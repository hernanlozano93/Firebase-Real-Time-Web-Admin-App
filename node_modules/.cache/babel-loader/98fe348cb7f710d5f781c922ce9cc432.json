{"ast":null,"code":"var _jsxFileName = \"/home/sony/CACTUS/Firebase-Real-Time-Web-Admin-App/src/pages/HomePage.js\";\nimport React, { Component } from \"react\";\nimport { IonPage, IonContent, IonHeader, IonToolbar, IonButton, IonList } from \"@ionic/react\";\nimport TabContainer from \"../components/TabContainer\";\nimport firebase from '@firebase/app';\n\nconst writeAdminData = userInfo => {\n  firebase.database().ref('user0001').push({\n    userInfo\n  }).catch(error => {\n    console.log('error ', error);\n  });\n};\n\nclass HomePage extends Component {\n  constructor() {\n    super();\n\n    this._changedTabs = e => {\n      if (e.currentTarget.attributes.tab.value === \"tab1\") {\n        this.setState(() => ({\n          onListPage: true\n        }));\n      } else {\n        this.setState(() => ({\n          onListPage: false\n        }));\n      }\n    };\n\n    this.state = {\n      onListPage: true,\n      data: [],\n      reservas: [],\n      value: []\n    };\n  }\n\n  componentWillUpdate() {\n    const readUsersData = () => {\n      const nameRef = firebase.database().ref('reservas');\n      nameRef.on('value', snapshot => {\n        const state = snapshot.val();\n        this.state.reservas = state;\n      });\n    };\n\n    readUsersData();\n  }\n\n  render() {\n    const pushAdminData = data => {\n      this.setState({\n        data\n      });\n    };\n\n    const reservas = JSON.stringify(this.state.reservas);\n    const tabla = reservas.split(',').map((item, i) => React.createElement(\"p\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, item));\n    return React.createElement(IonPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(IonHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(IonToolbar, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Introduzca la reserva a confirmar:\"), React.createElement(\"input\", {\n      onChange: e => this.setState({\n        value: e.target.value\n      }),\n      value: this.state.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(IonButton, {\n      onClick: () => {\n        pushAdminData(this.state.value);\n        writeAdminData(JSON.stringify(this.state.value).replace(/[\"{[,\\}\\]]/g, \"\"));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \" Enviar \")), React.createElement(IonContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(IonList, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" \", tabla.reverse(), \"  \"), React.createElement(TabContainer, {\n      history: this.props.history,\n      changedTabs: e => this._changedTabs(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/home/sony/CACTUS/Firebase-Real-Time-Web-Admin-App/src/pages/HomePage.js"],"names":["React","Component","IonPage","IonContent","IonHeader","IonToolbar","IonButton","IonList","TabContainer","firebase","writeAdminData","userInfo","database","ref","push","catch","error","console","log","HomePage","constructor","_changedTabs","e","currentTarget","attributes","tab","value","setState","onListPage","state","data","reservas","componentWillUpdate","readUsersData","nameRef","on","snapshot","val","render","pushAdminData","JSON","stringify","tabla","split","map","item","i","target","replace","reverse","props","history"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  IonPage,\n  IonContent,\n  IonHeader,\n  IonToolbar,\n  IonButton,\n  IonList,\n\n} from \"@ionic/react\";\nimport TabContainer from \"../components/TabContainer\";\nimport firebase from '@firebase/app'\n\nconst writeAdminData =(userInfo)=> {\n  firebase.database().ref('user0001').push({\n      userInfo\n  }).catch((error)=>{\n      console.log('error ' , error)\n  })\n}\n\nclass HomePage extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      onListPage: true,\n      data:[],\n      reservas:[],\n      value:  [],\n\n    };\n  }\n\n  componentWillUpdate () {\n\n      const readUsersData = ()=> {\n      const nameRef =  firebase.database().ref('reservas')\n      nameRef.on('value', (snapshot)=> {\n        const state = snapshot.val()\n        this.state.reservas =  state\n    })\n    }\n    readUsersData()\n    }\n\n  _changedTabs = e => {\n    if (e.currentTarget.attributes.tab.value === \"tab1\") {\n      this.setState(() => ({ onListPage: true }));\n    } else {\n      this.setState(() => ({ onListPage: false }));\n    }\n  }\n\n  render() {\n\n    const pushAdminData = (data)  => {\n      this.setState({data })\n    }\n\n    const reservas =  JSON.stringify(this.state.reservas)\n    const tabla =  reservas.split (',').map ((item, i) => <p key={i}>{item}</p>)\n\n    return (\n      \n      <IonPage>\n        <IonHeader>\n          <IonToolbar color=\"primary\">\n          </IonToolbar>       \n        <h1>Introduzca la reserva a confirmar:</h1>\n          <input \n            onChange={ e=> this.setState({value: e.target.value})}\n            value={this.state.value}     \n           > \n          </input>  \n\n          <IonButton\n          onClick= {()=>{\n            pushAdminData(this.state.value) ;\n            writeAdminData( JSON.stringify(this.state.value).replace(/[\"{[,\\}\\]]/g, \"\") ) ;\n            \n          }}\n         > Enviar </IonButton>           \n         </IonHeader>        \n        \n          <IonContent >\n           \n            <IonList> {tabla.reverse()}  </IonList>   \n         \n          <TabContainer\n            history={this.props.history}\n            changedTabs={e => this._changedTabs(e)}\n            />\n                  \n       </IonContent>\n       \n      </IonPage>\n      \n    );\n  }\n}\n\nexport default HomePage\n\n"]},"metadata":{},"sourceType":"module"}